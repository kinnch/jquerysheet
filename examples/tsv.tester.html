<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="-1">
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">
	<script src="../jquery-1.8.3.min.js"></script>
	<script src="../parser/tsv/tsv.js"></script>
	<script>
		$(function() {
			function test(string, expected) {
				var arr = tsv.parse(':::::' + string), same = true;
				$.each(arr, function(i) {
					$.each(arr[i], function(j) {
						if (arr[i][j] != expected[i][j]) {
							same = false;
						}
					});
				});
				$('table').append('<tr><td>"' + string.replace(/\t/g, '&#9;').replace(/\n/g, "<br/>") + '"</td><td>' + (same ? 'SUCCESS' : 'FAILURE') + '</td></tr>');
			}

			test("test'test'test\ntest'test'test", [["test'test'test"], ["test'test'test"]]);
			test('"Test\nTest\nTest"\ttest\t\ntest\t\t\n\t\t\n\t\t\n\t\t\n\t\ttest\n',[['Test\nTest\nTest', 'test', ''],['test', '', ''], ['','',''], ['','',''], ['','',''], ['', '', 'test']]);
			test('"Test\nTest\nTest"\tte"st\t\ntest\t\t\n\t\t\n\t\t\n\t\t\n\t\ttest\n',[['Test\nTest\nTest', 'te"st', ''],['test', '', ''], ['','',''], ['','',''], ['','',''], ['', '', 'test']]);
			test("There are many variation's of passages of Lorem Ipsum available", [["There are many variation's of passages of Lorem Ipsum available"]]);
			test("There are many variation's of passages of Lore'm Ipsum available", [["There are many variation's of passages of Lore'm Ipsum available"]]);
			test("There are many variation's of passages of Lore'm Ipsum availa`ble", [["There are many variation's of passages of Lore'm Ipsum availa`ble"]]);
			test("There are many variation's of passages of Lore'm Ipsum av`aila`ble", [["There are many variation's of passages of Lore'm Ipsum av`aila`ble"]]);
			test("Chart Type\tExample\nSimple Vertical Bar Chart\t\"=BARCHART(D2:D8)\"", [["Chart Type", "Example"], ["Simple Vertical Bar Chart","=BARCHART(D2:D8)"]]);
		});
	</script>
</head>
<body>
<table>
	<tr>
		<th>Test</th>
		<th>Result</th>
	</tr>
</table>
</body>
</html>